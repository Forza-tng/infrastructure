debug = true

logLevel = "DEBUG"
defaultEntryPoints = ["http"]

[accessLog]

[entryPoints]
  [entryPoints.http]
  address = ":80"
  [entryPoints.api]
  address = ":8080"

[api]
entryPoint = "api"
dashboard = true

[retry]

[file]

[backends]
  [backends.haiku-www]
  [backends.api-www]
[frontends]
  [frontends.haiku-www]
   backend = "haiku-www"
   [frontends.haiku-www.redirect]
    regex = "^https://haiku-os.org/(.*)"
    replacement = "https://www.haiku-os.org/$1"
    [frontends.haiku-www.routes.1]
      rule = "Host: haiku-os.org"
  [frontends.api-www]
    backend = "api-www"
    [frontends.api-www.redirect]
      regex = "//api.haiku-os.org/(.*)"
      replacement = "//www.haiku-os.org/docs/api/$1"
      [frontends.api-www.routes.1]
        rule = "Host: api.haiku-os.org"

[docker]
endpoint = "unix:///var/run/docker.sock"
domain = "haiku.nz"
watch = true
exposedByDefault = false

